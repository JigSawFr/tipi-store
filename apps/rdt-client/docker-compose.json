{
  "$schema": "https://schemas.runtipi.io/v2/dynamic-compose.json",
  "schemaVersion": 2,
  "services": [
    {
      "image": "ghcr.io/rogerfar/rdtclient:2.0.119",
      "name": "rdt-client",
      "isMain": true,
      "internalPort": 6500,
      "environment": [
        {
          "key": "PUID",
          "value": "${PUID}"
        },
        {
          "key": "PGID",
          "value": "${PGID}"
        },
        {
          "key": "TZ",
          "value": "${TZ}"
        },
        {
          "key": "BASE_PATH",
          "value": "${RDT_CLIENT_BASE_PATH:-}"
        },
        {
          "key": "RD_API_KEY",
          "value": "${RDT_CLIENT_RD_API_KEY:-}"
        },
        {
          "key": "AD_API_KEY",
          "value": "${RDT_CLIENT_AD_API_KEY:-}"
        },
        {
          "key": "PM_API_KEY",
          "value": "${RDT_CLIENT_PM_API_KEY:-}"
        },
        {
          "key": "TB_API_KEY",
          "value": "${RDT_CLIENT_TB_API_KEY:-}"
        },
        {
          "key": "DL_API_KEY",
          "value": "${RDT_CLIENT_DL_API_KEY:-}"
        },
        {
          "key": "DOWNLOAD_PATH",
          "value": "${RDT_CLIENT_DOWNLOAD_PATH:-/data/downloads}"
        },
        {
          "key": "MAPPED_PATH",
          "value": "${RDT_CLIENT_MAPPED_PATH:-}"
        },
        {
          "key": "DATABASE_CONNECTION_STRING",
          "value": "${RDT_CLIENT_DATABASE_CONNECTION_STRING:-}"
        },
        {
          "key": "ENABLE_DEBUG",
          "value": "${RDT_CLIENT_ENABLE_DEBUG:-false}"
        },
        {
          "key": "DOWNLOAD_SPEED_LIMIT",
          "value": "${RDT_CLIENT_DOWNLOAD_SPEED_LIMIT:-0}"
        },
        {
          "key": "PARALLEL_CONNECTIONS",
          "value": "${RDT_CLIENT_PARALLEL_CONNECTIONS:-8}"
        },
        {
          "key": "CONNECTION_TIMEOUT",
          "value": "${RDT_CLIENT_CONNECTION_TIMEOUT:-30000}"
        }
      ],
      "healthCheck": {
        "test": "curl -f http://localhost:6500/health || exit 1",
        "interval": "30s",
        "timeout": "10s",
        "retries": 3,
        "startPeriod": "30s"
      },
      "volumes": [
        {
          "hostPath": "${APP_DATA_DIR}/data/db",
          "containerPath": "/data/db"
        },
        {
          "hostPath": "${APP_DATA_DIR}/data/downloads",
          "containerPath": "/data/downloads"
        }
      ]
    }
  ]
}
